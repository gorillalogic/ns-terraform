<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.3 (20191010.1750)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="4352pt" height="692pt"
 viewBox="0.00 0.00 4352.08 692.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 688)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-688 4348.08,-688 4348.08,4 -4,4"/>
<!-- [root] aws_alb_listener.grafana -->
<g id="node1" class="node">
<title>[root] aws_alb_listener.grafana</title>
<polygon fill="none" stroke="black" points="1775.35,-396 1620.78,-396 1620.78,-360 1775.35,-360 1775.35,-396"/>
<text text-anchor="middle" x="1698.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_alb_listener.grafana</text>
</g>
<!-- [root] aws_alb_target_group.grafana -->
<g id="node2" class="node">
<title>[root] aws_alb_target_group.grafana</title>
<polygon fill="none" stroke="black" points="1927.69,-252 1742.44,-252 1742.44,-216 1927.69,-216 1927.69,-252"/>
<text text-anchor="middle" x="1835.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_alb_target_group.grafana</text>
</g>
<!-- [root] aws_alb_listener.grafana&#45;&gt;[root] aws_alb_target_group.grafana -->
<g id="edge1" class="edge">
<title>[root] aws_alb_listener.grafana&#45;&gt;[root] aws_alb_target_group.grafana</title>
<path fill="none" stroke="black" d="M1714.59,-359.87C1738.76,-334.82 1783.88,-288.05 1811.52,-259.41"/>
<polygon fill="black" stroke="black" points="1814.06,-261.82 1818.48,-252.19 1809.02,-256.96 1814.06,-261.82"/>
</g>
<!-- [root] aws_lb.main -->
<g id="node32" class="node">
<title>[root] aws_lb.main</title>
<polygon fill="none" stroke="black" points="1911.72,-324 1824.41,-324 1824.41,-288 1911.72,-288 1911.72,-324"/>
<text text-anchor="middle" x="1868.07" y="-301.8" font-family="Times,serif" font-size="14.00">aws_lb.main</text>
</g>
<!-- [root] aws_alb_listener.grafana&#45;&gt;[root] aws_lb.main -->
<g id="edge2" class="edge">
<title>[root] aws_alb_listener.grafana&#45;&gt;[root] aws_lb.main</title>
<path fill="none" stroke="black" d="M1739.65,-359.88C1763.1,-350.22 1792.57,-338.09 1817.36,-327.88"/>
<polygon fill="black" stroke="black" points="1818.7,-331.11 1826.62,-324.07 1816.04,-324.64 1818.7,-331.11"/>
</g>
<!-- [root] aws_vpc.main -->
<g id="node43" class="node">
<title>[root] aws_vpc.main</title>
<polygon fill="none" stroke="black" points="2205.55,-108 2108.59,-108 2108.59,-72 2205.55,-72 2205.55,-108"/>
<text text-anchor="middle" x="2157.07" y="-85.8" font-family="Times,serif" font-size="14.00">aws_vpc.main</text>
</g>
<!-- [root] aws_alb_target_group.grafana&#45;&gt;[root] aws_vpc.main -->
<g id="edge3" class="edge">
<title>[root] aws_alb_target_group.grafana&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M1839.03,-215.97C1844.72,-195.53 1857.24,-161.8 1881.07,-144 1914.73,-118.84 2028.08,-103.54 2098.62,-96.23"/>
<polygon fill="black" stroke="black" points="2099.1,-99.69 2108.7,-95.2 2098.4,-92.73 2099.1,-99.69"/>
</g>
<!-- [root] aws_autoscaling_group.asg -->
<g id="node3" class="node">
<title>[root] aws_autoscaling_group.asg</title>
<polygon fill="none" stroke="black" points="2326.42,-324 2155.71,-324 2155.71,-288 2326.42,-288 2326.42,-324"/>
<text text-anchor="middle" x="2241.07" y="-301.8" font-family="Times,serif" font-size="14.00">aws_autoscaling_group.asg</text>
</g>
<!-- [root] aws_launch_configuration.launch -->
<g id="node31" class="node">
<title>[root] aws_launch_configuration.launch</title>
<polygon fill="none" stroke="black" points="2926.13,-252 2722,-252 2722,-216 2926.13,-216 2926.13,-252"/>
<text text-anchor="middle" x="2824.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_launch_configuration.launch</text>
</g>
<!-- [root] aws_autoscaling_group.asg&#45;&gt;[root] aws_launch_configuration.launch -->
<g id="edge4" class="edge">
<title>[root] aws_autoscaling_group.asg&#45;&gt;[root] aws_launch_configuration.launch</title>
<path fill="none" stroke="black" d="M2326.33,-289.31C2329.28,-288.85 2332.19,-288.41 2335.07,-288 2463.76,-269.41 2612.36,-254.19 2711.66,-244.9"/>
<polygon fill="black" stroke="black" points="2712.08,-248.37 2721.72,-243.96 2711.43,-241.4 2712.08,-248.37"/>
</g>
<!-- [root] aws_subnet.private -->
<g id="node41" class="node">
<title>[root] aws_subnet.private</title>
<polygon fill="none" stroke="black" points="2217.76,-252 2094.37,-252 2094.37,-216 2217.76,-216 2217.76,-252"/>
<text text-anchor="middle" x="2156.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_subnet.private</text>
</g>
<!-- [root] aws_autoscaling_group.asg&#45;&gt;[root] aws_subnet.private -->
<g id="edge5" class="edge">
<title>[root] aws_autoscaling_group.asg&#45;&gt;[root] aws_subnet.private</title>
<path fill="none" stroke="black" d="M2220.06,-287.7C2209.35,-278.88 2196.18,-268.03 2184.57,-258.47"/>
<polygon fill="black" stroke="black" points="2186.78,-255.76 2176.84,-252.1 2182.33,-261.16 2186.78,-255.76"/>
</g>
<!-- [root] aws_cloudwatch_log_group.grafana -->
<g id="node4" class="node">
<title>[root] aws_cloudwatch_log_group.grafana</title>
<polygon fill="none" stroke="black" points="4101.89,-108 3882.25,-108 3882.25,-72 4101.89,-72 4101.89,-108"/>
<text text-anchor="middle" x="3992.07" y="-85.8" font-family="Times,serif" font-size="14.00">aws_cloudwatch_log_group.grafana</text>
</g>
<!-- [root] provider.aws -->
<g id="node57" class="node">
<title>[root] provider.aws</title>
<polygon fill="none" stroke="black" points="2544.07,-36 2465.46,-18 2544.07,0 2622.68,-18 2544.07,-36"/>
<text text-anchor="middle" x="2544.07" y="-13.8" font-family="Times,serif" font-size="14.00">provider.aws</text>
</g>
<!-- [root] aws_cloudwatch_log_group.grafana&#45;&gt;[root] provider.aws -->
<g id="edge6" class="edge">
<title>[root] aws_cloudwatch_log_group.grafana&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M3882.19,-72.79C3879.46,-72.51 3876.75,-72.25 3874.07,-72 3403.98,-28.89 2837.24,-20.83 2627.43,-19.34"/>
<polygon fill="black" stroke="black" points="2627.43,-15.84 2617.41,-19.27 2627.39,-22.84 2627.43,-15.84"/>
</g>
<!-- [root] var.logs_retention_in_days -->
<g id="node66" class="node">
<title>[root] var.logs_retention_in_days</title>
<polygon fill="none" stroke="black" points="4069.83,-36 3908.31,-36 3908.31,0 4075.83,0 4075.83,-30 4069.83,-36"/>
<polyline fill="none" stroke="black" points="4069.83,-36 4069.83,-30 "/>
<polyline fill="none" stroke="black" points="4075.83,-30 4069.83,-30 "/>
<text text-anchor="middle" x="3992.07" y="-13.8" font-family="Times,serif" font-size="14.00">var.logs_retention_in_days</text>
</g>
<!-- [root] aws_cloudwatch_log_group.grafana&#45;&gt;[root] var.logs_retention_in_days -->
<g id="edge7" class="edge">
<title>[root] aws_cloudwatch_log_group.grafana&#45;&gt;[root] var.logs_retention_in_days</title>
<path fill="none" stroke="black" d="M3992.07,-71.7C3992.07,-63.98 3992.07,-54.71 3992.07,-46.11"/>
<polygon fill="black" stroke="black" points="3995.57,-46.1 3992.07,-36.1 3988.57,-46.1 3995.57,-46.1"/>
</g>
<!-- [root] aws_cloudwatch_log_group.influxdb -->
<g id="node5" class="node">
<title>[root] aws_cloudwatch_log_group.influxdb</title>
<polygon fill="none" stroke="black" points="4344.1,-108 4120.04,-108 4120.04,-72 4344.1,-72 4344.1,-108"/>
<text text-anchor="middle" x="4232.07" y="-85.8" font-family="Times,serif" font-size="14.00">aws_cloudwatch_log_group.influxdb</text>
</g>
<!-- [root] aws_cloudwatch_log_group.influxdb&#45;&gt;[root] provider.aws -->
<g id="edge8" class="edge">
<title>[root] aws_cloudwatch_log_group.influxdb&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M4120.05,-72.84C4117.02,-72.54 4114.03,-72.26 4111.07,-72 3547.59,-23.03 2866.48,-18.64 2629.92,-18.72"/>
<polygon fill="black" stroke="black" points="2629.66,-15.22 2619.66,-18.73 2629.67,-22.22 2629.66,-15.22"/>
</g>
<!-- [root] aws_cloudwatch_log_group.influxdb&#45;&gt;[root] var.logs_retention_in_days -->
<g id="edge9" class="edge">
<title>[root] aws_cloudwatch_log_group.influxdb&#45;&gt;[root] var.logs_retention_in_days</title>
<path fill="none" stroke="black" d="M4173.66,-71.97C4139.55,-62.01 4096.32,-49.41 4060.6,-38.99"/>
<polygon fill="black" stroke="black" points="4061.31,-35.55 4050.73,-36.11 4059.35,-42.27 4061.31,-35.55"/>
</g>
<!-- [root] aws_cloudwatch_log_group.kinesis_consumer -->
<g id="node6" class="node">
<title>[root] aws_cloudwatch_log_group.kinesis_consumer</title>
<polygon fill="none" stroke="black" points="3864.74,-108 3587.39,-108 3587.39,-72 3864.74,-72 3864.74,-108"/>
<text text-anchor="middle" x="3726.07" y="-85.8" font-family="Times,serif" font-size="14.00">aws_cloudwatch_log_group.kinesis_consumer</text>
</g>
<!-- [root] aws_cloudwatch_log_group.kinesis_consumer&#45;&gt;[root] provider.aws -->
<g id="edge10" class="edge">
<title>[root] aws_cloudwatch_log_group.kinesis_consumer&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M3587.05,-72.77C3584.03,-72.5 3581.03,-72.25 3578.07,-72 3220.39,-42.32 2791.63,-26.7 2620.27,-21.26"/>
<polygon fill="black" stroke="black" points="2620.2,-17.75 2610.09,-20.94 2619.98,-24.75 2620.2,-17.75"/>
</g>
<!-- [root] aws_cloudwatch_log_group.kinesis_consumer&#45;&gt;[root] var.logs_retention_in_days -->
<g id="edge11" class="edge">
<title>[root] aws_cloudwatch_log_group.kinesis_consumer&#45;&gt;[root] var.logs_retention_in_days</title>
<path fill="none" stroke="black" d="M3790.8,-71.97C3828.93,-61.93 3877.34,-49.19 3917.13,-38.72"/>
<polygon fill="black" stroke="black" points="3918.27,-42.04 3927.05,-36.11 3916.48,-35.27 3918.27,-42.04"/>
</g>
<!-- [root] aws_ecr_lifecycle_policy.foopolicy -->
<g id="node7" class="node">
<title>[root] aws_ecr_lifecycle_policy.foopolicy</title>
<polygon fill="none" stroke="black" points="547.86,-540 332.28,-540 332.28,-504 547.86,-504 547.86,-540"/>
<text text-anchor="middle" x="440.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_ecr_lifecycle_policy.foopolicy</text>
</g>
<!-- [root] aws_ecr_repository.kinesis_consumer -->
<g id="node8" class="node">
<title>[root] aws_ecr_repository.kinesis_consumer</title>
<polygon fill="none" stroke="black" points="367.1,-396 139.03,-396 139.03,-360 367.1,-360 367.1,-396"/>
<text text-anchor="middle" x="253.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_ecr_repository.kinesis_consumer</text>
</g>
<!-- [root] aws_ecr_lifecycle_policy.foopolicy&#45;&gt;[root] aws_ecr_repository.kinesis_consumer -->
<g id="edge12" class="edge">
<title>[root] aws_ecr_lifecycle_policy.foopolicy&#45;&gt;[root] aws_ecr_repository.kinesis_consumer</title>
<path fill="none" stroke="black" d="M332.37,-513.72C266.09,-506.75 189.94,-493.35 169.07,-468 158.9,-455.65 161.34,-446.01 169.07,-432 176.17,-419.12 187.87,-408.94 200.31,-401.08"/>
<polygon fill="black" stroke="black" points="202.12,-404.08 208.99,-396.02 198.59,-398.03 202.12,-404.08"/>
</g>
<!-- [root] aws_ecr_repository.kinesis_consumer&#45;&gt;[root] provider.aws -->
<g id="edge13" class="edge">
<title>[root] aws_ecr_repository.kinesis_consumer&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M329.52,-359.97C391.66,-341.1 469.07,-303.78 469.07,-235 469.07,-235 469.07,-235 469.07,-161 469.07,42.87 716.52,-95.18 919.07,-72 1223.09,-37.21 2177.79,-23.33 2462.9,-19.9"/>
<polygon fill="black" stroke="black" points="2463.2,-23.4 2473.16,-19.78 2463.11,-16.4 2463.2,-23.4"/>
</g>
<!-- [root] aws_ecs_capacity_provider.provider -->
<g id="node9" class="node">
<title>[root] aws_ecs_capacity_provider.provider</title>
<polygon fill="none" stroke="black" points="2014.44,-396 1793.69,-396 1793.69,-360 2014.44,-360 2014.44,-396"/>
<text text-anchor="middle" x="1904.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_ecs_capacity_provider.provider</text>
</g>
<!-- [root] aws_ecs_capacity_provider.provider&#45;&gt;[root] aws_autoscaling_group.asg -->
<g id="edge14" class="edge">
<title>[root] aws_ecs_capacity_provider.provider&#45;&gt;[root] aws_autoscaling_group.asg</title>
<path fill="none" stroke="black" d="M1986.08,-359.97C2035.3,-349.74 2098.04,-336.71 2148.96,-326.13"/>
<polygon fill="black" stroke="black" points="2149.9,-329.51 2158.98,-324.05 2148.48,-322.66 2149.9,-329.51"/>
</g>
<!-- [root] aws_ecs_cluster.main -->
<g id="node10" class="node">
<title>[root] aws_ecs_cluster.main</title>
<polygon fill="none" stroke="black" points="1863.76,-468 1726.37,-468 1726.37,-432 1863.76,-432 1863.76,-468"/>
<text text-anchor="middle" x="1795.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_ecs_cluster.main</text>
</g>
<!-- [root] aws_ecs_cluster.main&#45;&gt;[root] aws_ecs_capacity_provider.provider -->
<g id="edge15" class="edge">
<title>[root] aws_ecs_cluster.main&#45;&gt;[root] aws_ecs_capacity_provider.provider</title>
<path fill="none" stroke="black" d="M1821.73,-431.88C1835.85,-422.81 1853.38,-411.55 1868.63,-401.76"/>
<polygon fill="black" stroke="black" points="1870.78,-404.54 1877.3,-396.19 1866.99,-398.65 1870.78,-404.54"/>
</g>
<!-- [root] aws_ecs_service.main -->
<g id="node11" class="node">
<title>[root] aws_ecs_service.main</title>
<polygon fill="none" stroke="black" points="1261.35,-540 1120.78,-540 1120.78,-504 1261.35,-504 1261.35,-540"/>
<text text-anchor="middle" x="1191.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_ecs_service.main</text>
</g>
<!-- [root] aws_ecs_service.main&#45;&gt;[root] aws_alb_listener.grafana -->
<g id="edge16" class="edge">
<title>[root] aws_ecs_service.main&#45;&gt;[root] aws_alb_listener.grafana</title>
<path fill="none" stroke="black" d="M1261.65,-505.52C1264.83,-504.97 1267.98,-504.46 1271.07,-504 1361.08,-490.52 1610.89,-528.31 1679.07,-468 1696.12,-452.92 1700,-426.61 1700.12,-406.5"/>
<polygon fill="black" stroke="black" points="1703.62,-406.27 1699.89,-396.36 1696.62,-406.44 1703.62,-406.27"/>
</g>
<!-- [root] aws_ecs_service.main&#45;&gt;[root] aws_ecs_cluster.main -->
<g id="edge17" class="edge">
<title>[root] aws_ecs_service.main&#45;&gt;[root] aws_ecs_cluster.main</title>
<path fill="none" stroke="black" d="M1261.65,-505.49C1264.83,-504.95 1267.98,-504.45 1271.07,-504 1465.64,-475.5 1517.39,-495.78 1712.07,-468 1713.38,-467.81 1714.7,-467.62 1716.03,-467.42"/>
<polygon fill="black" stroke="black" points="1717.03,-470.8 1726.34,-465.74 1715.9,-463.89 1717.03,-470.8"/>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics -->
<g id="node12" class="node">
<title>[root] aws_ecs_task_definition.sensor_analytics</title>
<polygon fill="none" stroke="black" points="1222.47,-468 973.67,-468 973.67,-432 1222.47,-432 1222.47,-468"/>
<text text-anchor="middle" x="1098.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_ecs_task_definition.sensor_analytics</text>
</g>
<!-- [root] aws_ecs_service.main&#45;&gt;[root] aws_ecs_task_definition.sensor_analytics -->
<g id="edge18" class="edge">
<title>[root] aws_ecs_service.main&#45;&gt;[root] aws_ecs_task_definition.sensor_analytics</title>
<path fill="none" stroke="black" d="M1168.08,-503.7C1156.25,-494.8 1141.68,-483.82 1128.89,-474.2"/>
<polygon fill="black" stroke="black" points="1130.89,-471.32 1120.79,-468.1 1126.68,-476.91 1130.89,-471.32"/>
</g>
<!-- [root] aws_security_group.ecs_tasks -->
<g id="node38" class="node">
<title>[root] aws_security_group.ecs_tasks</title>
<polygon fill="none" stroke="black" points="1669.7,-468 1484.44,-468 1484.44,-432 1669.7,-432 1669.7,-468"/>
<text text-anchor="middle" x="1577.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_security_group.ecs_tasks</text>
</g>
<!-- [root] aws_ecs_service.main&#45;&gt;[root] aws_security_group.ecs_tasks -->
<g id="edge19" class="edge">
<title>[root] aws_ecs_service.main&#45;&gt;[root] aws_security_group.ecs_tasks</title>
<path fill="none" stroke="black" d="M1261.71,-505.84C1264.87,-505.21 1268,-504.59 1271.07,-504 1338.5,-491 1414.59,-477.81 1474.03,-467.85"/>
<polygon fill="black" stroke="black" points="1474.88,-471.25 1484.17,-466.15 1473.73,-464.35 1474.88,-471.25"/>
</g>
<!-- [root] var.app_count -->
<g id="node59" class="node">
<title>[root] var.app_count</title>
<polygon fill="none" stroke="black" points="949.5,-468 860.64,-468 860.64,-432 955.5,-432 955.5,-462 949.5,-468"/>
<polyline fill="none" stroke="black" points="949.5,-468 949.5,-462 "/>
<polyline fill="none" stroke="black" points="955.5,-462 949.5,-462 "/>
<text text-anchor="middle" x="908.07" y="-445.8" font-family="Times,serif" font-size="14.00">var.app_count</text>
</g>
<!-- [root] aws_ecs_service.main&#45;&gt;[root] var.app_count -->
<g id="edge20" class="edge">
<title>[root] aws_ecs_service.main&#45;&gt;[root] var.app_count</title>
<path fill="none" stroke="black" d="M1120.56,-505.6C1078.2,-496.08 1023.04,-483.23 965.27,-467.97"/>
<polygon fill="black" stroke="black" points="966.16,-464.59 955.59,-465.4 964.36,-471.35 966.16,-464.59"/>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_ecr_repository.kinesis_consumer -->
<g id="edge21" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_ecr_repository.kinesis_consumer</title>
<path fill="none" stroke="black" d="M973.63,-432.99C970.41,-432.65 967.22,-432.32 964.07,-432 748.56,-410.36 694.06,-412.16 478.07,-396 445.41,-393.56 410.09,-390.9 377.32,-388.42"/>
<polygon fill="black" stroke="black" points="377.47,-384.92 367.24,-387.66 376.95,-391.9 377.47,-384.92"/>
</g>
<!-- [root] aws_iam_role.ecs_task_execution_role -->
<g id="node16" class="node">
<title>[root] aws_iam_role.ecs_task_execution_role</title>
<polygon fill="none" stroke="black" points="1460.71,-396 1225.42,-396 1225.42,-360 1460.71,-360 1460.71,-396"/>
<text text-anchor="middle" x="1343.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_iam_role.ecs_task_execution_role</text>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_iam_role.ecs_task_execution_role -->
<g id="edge22" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_iam_role.ecs_task_execution_role</title>
<path fill="none" stroke="black" d="M1157.69,-431.97C1192.52,-422.01 1236.65,-409.41 1273.11,-398.99"/>
<polygon fill="black" stroke="black" points="1274.53,-402.22 1283.18,-396.11 1272.6,-395.49 1274.53,-402.22"/>
</g>
<!-- [root] aws_iam_role.ecs_task_role -->
<g id="node17" class="node">
<title>[root] aws_iam_role.ecs_task_role</title>
<polygon fill="none" stroke="black" points="889.29,-396 714.84,-396 714.84,-360 889.29,-360 889.29,-396"/>
<text text-anchor="middle" x="802.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_iam_role.ecs_task_role</text>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_iam_role.ecs_task_role -->
<g id="edge23" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] aws_iam_role.ecs_task_role</title>
<path fill="none" stroke="black" d="M1026.04,-431.97C983.16,-421.83 928.61,-408.93 884.09,-398.4"/>
<polygon fill="black" stroke="black" points="884.7,-394.95 874.16,-396.05 883.09,-401.76 884.7,-394.95"/>
</g>
<!-- [root] var.aws_region -->
<g id="node62" class="node">
<title>[root] var.aws_region</title>
<polygon fill="none" stroke="black" points="3022.72,-396 2927.42,-396 2927.42,-360 3028.72,-360 3028.72,-390 3022.72,-396"/>
<polyline fill="none" stroke="black" points="3022.72,-396 3022.72,-390 "/>
<polyline fill="none" stroke="black" points="3028.72,-390 3022.72,-390 "/>
<text text-anchor="middle" x="2978.07" y="-373.8" font-family="Times,serif" font-size="14.00">var.aws_region</text>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.aws_region -->
<g id="edge24" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.aws_region</title>
<path fill="none" stroke="black" d="M1222.63,-432.71C1225.47,-432.46 1228.28,-432.22 1231.07,-432 1569.13,-405.33 2648.62,-384.83 2917.14,-380.06"/>
<polygon fill="black" stroke="black" points="2917.53,-383.55 2927.47,-379.87 2917.41,-376.55 2917.53,-383.55"/>
</g>
<!-- [root] var.grafana_image -->
<g id="node64" class="node">
<title>[root] var.grafana_image</title>
<polygon fill="none" stroke="black" points="1020.85,-396 907.28,-396 907.28,-360 1026.85,-360 1026.85,-390 1020.85,-396"/>
<polyline fill="none" stroke="black" points="1020.85,-396 1020.85,-390 "/>
<polyline fill="none" stroke="black" points="1026.85,-390 1020.85,-390 "/>
<text text-anchor="middle" x="967.07" y="-373.8" font-family="Times,serif" font-size="14.00">var.grafana_image</text>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.grafana_image -->
<g id="edge25" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.grafana_image</title>
<path fill="none" stroke="black" d="M1066.02,-431.88C1048.58,-422.55 1026.8,-410.92 1008.12,-400.94"/>
<polygon fill="black" stroke="black" points="1009.71,-397.82 999.24,-396.19 1006.41,-403.99 1009.71,-397.82"/>
</g>
<!-- [root] var.influxdb_image -->
<g id="node65" class="node">
<title>[root] var.influxdb_image</title>
<polygon fill="none" stroke="black" points="1163.56,-396 1044.57,-396 1044.57,-360 1169.56,-360 1169.56,-390 1163.56,-396"/>
<polyline fill="none" stroke="black" points="1163.56,-396 1163.56,-390 "/>
<polyline fill="none" stroke="black" points="1169.56,-390 1163.56,-390 "/>
<text text-anchor="middle" x="1107.07" y="-373.8" font-family="Times,serif" font-size="14.00">var.influxdb_image</text>
</g>
<!-- [root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.influxdb_image -->
<g id="edge26" class="edge">
<title>[root] aws_ecs_task_definition.sensor_analytics&#45;&gt;[root] var.influxdb_image</title>
<path fill="none" stroke="black" d="M1100.29,-431.7C1101.28,-423.98 1102.48,-414.71 1103.58,-406.11"/>
<polygon fill="black" stroke="black" points="1107.06,-406.47 1104.87,-396.1 1100.12,-405.58 1107.06,-406.47"/>
</g>
<!-- [root] aws_eip.gw -->
<g id="node13" class="node">
<title>[root] aws_eip.gw</title>
<polygon fill="none" stroke="black" points="2318.56,-252 2235.58,-252 2235.58,-216 2318.56,-216 2318.56,-252"/>
<text text-anchor="middle" x="2277.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_eip.gw</text>
</g>
<!-- [root] aws_internet_gateway.gw -->
<g id="node25" class="node">
<title>[root] aws_internet_gateway.gw</title>
<polygon fill="none" stroke="black" points="2451.44,-180 2290.69,-180 2290.69,-144 2451.44,-144 2451.44,-180"/>
<text text-anchor="middle" x="2371.07" y="-157.8" font-family="Times,serif" font-size="14.00">aws_internet_gateway.gw</text>
</g>
<!-- [root] aws_eip.gw&#45;&gt;[root] aws_internet_gateway.gw -->
<g id="edge27" class="edge">
<title>[root] aws_eip.gw&#45;&gt;[root] aws_internet_gateway.gw</title>
<path fill="none" stroke="black" d="M2300.3,-215.7C2312.26,-206.8 2326.99,-195.82 2339.91,-186.2"/>
<polygon fill="black" stroke="black" points="2342.17,-188.88 2348.1,-180.1 2337.99,-183.27 2342.17,-188.88"/>
</g>
<!-- [root] var.az_count -->
<g id="node63" class="node">
<title>[root] var.az_count</title>
<polygon fill="none" stroke="black" points="2266.71,-180 2185.43,-180 2185.43,-144 2272.71,-144 2272.71,-174 2266.71,-180"/>
<polyline fill="none" stroke="black" points="2266.71,-180 2266.71,-174 "/>
<polyline fill="none" stroke="black" points="2272.71,-174 2266.71,-174 "/>
<text text-anchor="middle" x="2229.07" y="-157.8" font-family="Times,serif" font-size="14.00">var.az_count</text>
</g>
<!-- [root] aws_eip.gw&#45;&gt;[root] var.az_count -->
<g id="edge28" class="edge">
<title>[root] aws_eip.gw&#45;&gt;[root] var.az_count</title>
<path fill="none" stroke="black" d="M2265.2,-215.7C2259.56,-207.47 2252.71,-197.48 2246.5,-188.42"/>
<polygon fill="black" stroke="black" points="2249.34,-186.37 2240.8,-180.1 2243.56,-190.33 2249.34,-186.37"/>
</g>
<!-- [root] aws_iam_instance_profile.ecs_ec2_instance -->
<g id="node14" class="node">
<title>[root] aws_iam_instance_profile.ecs_ec2_instance</title>
<polygon fill="none" stroke="black" points="3029.43,-180 2766.71,-180 2766.71,-144 3029.43,-144 3029.43,-180"/>
<text text-anchor="middle" x="2898.07" y="-157.8" font-family="Times,serif" font-size="14.00">aws_iam_instance_profile.ecs_ec2_instance</text>
</g>
<!-- [root] aws_iam_role.ecs_ec2_instance_role -->
<g id="node15" class="node">
<title>[root] aws_iam_role.ecs_ec2_instance_role</title>
<polygon fill="none" stroke="black" points="3347.04,-108 3123.1,-108 3123.1,-72 3347.04,-72 3347.04,-108"/>
<text text-anchor="middle" x="3235.07" y="-85.8" font-family="Times,serif" font-size="14.00">aws_iam_role.ecs_ec2_instance_role</text>
</g>
<!-- [root] aws_iam_instance_profile.ecs_ec2_instance&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role -->
<g id="edge29" class="edge">
<title>[root] aws_iam_instance_profile.ecs_ec2_instance&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role</title>
<path fill="none" stroke="black" d="M2980.08,-143.97C3029.3,-133.74 3092.04,-120.71 3142.96,-110.13"/>
<polygon fill="black" stroke="black" points="3143.9,-113.51 3152.98,-108.05 3142.48,-106.66 3143.9,-113.51"/>
</g>
<!-- [root] aws_iam_role.ecs_ec2_instance_role&#45;&gt;[root] provider.aws -->
<g id="edge30" class="edge">
<title>[root] aws_iam_role.ecs_ec2_instance_role&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M3122.78,-73.61C3118.15,-73.05 3113.56,-72.51 3109.07,-72 2928.37,-51.34 2714.48,-32.92 2609.23,-24.25"/>
<polygon fill="black" stroke="black" points="2609.34,-20.74 2599.08,-23.41 2608.76,-27.72 2609.34,-20.74"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_assume_role_policy -->
<g id="node46" class="node">
<title>[root] data.aws_iam_policy_document.ecs_assume_role_policy</title>
<polygon fill="none" stroke="black" points="1212.7,-324 875.44,-324 875.44,-288 1212.7,-288 1212.7,-324"/>
<text text-anchor="middle" x="1044.07" y="-301.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.ecs_assume_role_policy</text>
</g>
<!-- [root] aws_iam_role.ecs_task_execution_role&#45;&gt;[root] data.aws_iam_policy_document.ecs_assume_role_policy -->
<g id="edge31" class="edge">
<title>[root] aws_iam_role.ecs_task_execution_role&#45;&gt;[root] data.aws_iam_policy_document.ecs_assume_role_policy</title>
<path fill="none" stroke="black" d="M1270.31,-359.97C1226.9,-349.8 1171.66,-336.87 1126.63,-326.33"/>
<polygon fill="black" stroke="black" points="1127.43,-322.92 1116.9,-324.05 1125.83,-329.74 1127.43,-322.92"/>
</g>
<!-- [root] aws_iam_role.ecs_task_role&#45;&gt;[root] data.aws_iam_policy_document.ecs_assume_role_policy -->
<g id="edge32" class="edge">
<title>[root] aws_iam_role.ecs_task_role&#45;&gt;[root] data.aws_iam_policy_document.ecs_assume_role_policy</title>
<path fill="none" stroke="black" d="M860.96,-359.97C895.36,-350.01 938.95,-337.41 974.97,-326.99"/>
<polygon fill="black" stroke="black" points="976.28,-330.25 984.91,-324.11 974.33,-323.53 976.28,-330.25"/>
</g>
<!-- [root] aws_iam_role.iot_kinesis_role -->
<g id="node18" class="node">
<title>[root] aws_iam_role.iot_kinesis_role</title>
<polygon fill="none" stroke="black" points="1428.03,-468 1240.1,-468 1240.1,-432 1428.03,-432 1428.03,-468"/>
<text text-anchor="middle" x="1334.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_iam_role.iot_kinesis_role</text>
</g>
<!-- [root] data.aws_iam_policy_document.iot_assume_role_policy -->
<g id="node50" class="node">
<title>[root] data.aws_iam_policy_document.iot_assume_role_policy</title>
<polygon fill="none" stroke="black" points="1565.1,-324 1231.03,-324 1231.03,-288 1565.1,-288 1565.1,-324"/>
<text text-anchor="middle" x="1398.07" y="-301.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.iot_assume_role_policy</text>
</g>
<!-- [root] aws_iam_role.iot_kinesis_role&#45;&gt;[root] data.aws_iam_policy_document.iot_assume_role_policy -->
<g id="edge33" class="edge">
<title>[root] aws_iam_role.iot_kinesis_role&#45;&gt;[root] data.aws_iam_policy_document.iot_assume_role_policy</title>
<path fill="none" stroke="black" d="M1262.18,-431.92C1244.1,-424.04 1226.8,-412.59 1216.07,-396 1207.38,-382.57 1206.46,-372.8 1216.07,-360 1226.27,-346.4 1257.87,-335.15 1291.95,-326.56"/>
<polygon fill="black" stroke="black" points="1293.2,-329.86 1302.09,-324.1 1291.55,-323.06 1293.2,-329.86"/>
</g>
<!-- [root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs -->
<g id="node19" class="node">
<title>[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs</title>
<polygon fill="none" stroke="black" points="2628.32,-468 2279.81,-468 2279.81,-432 2628.32,-432 2628.32,-468"/>
<text text-anchor="middle" x="2454.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy.attach_cloudwatch_to_execution_ecs</text>
</g>
<!-- [root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs&#45;&gt;[root] aws_iam_role.ecs_task_execution_role -->
<g id="edge34" class="edge">
<title>[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs&#45;&gt;[root] aws_iam_role.ecs_task_execution_role</title>
<path fill="none" stroke="black" d="M2279.73,-432.61C2276.82,-432.4 2273.93,-432.2 2271.07,-432 1918.85,-407.74 1826.72,-427.3 1471.05,-396.04"/>
<polygon fill="black" stroke="black" points="1471.26,-392.54 1460.99,-395.14 1470.64,-399.51 1471.26,-392.54"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_cloudwatch_policy -->
<g id="node47" class="node">
<title>[root] data.aws_iam_policy_document.ecs_cloudwatch_policy</title>
<polygon fill="none" stroke="black" points="4092.75,-180 3761.38,-180 3761.38,-144 4092.75,-144 4092.75,-180"/>
<text text-anchor="middle" x="3927.07" y="-157.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.ecs_cloudwatch_policy</text>
</g>
<!-- [root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_cloudwatch_policy -->
<g id="edge35" class="edge">
<title>[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_cloudwatch_policy</title>
<path fill="none" stroke="black" d="M2541.8,-431.97C2800.31,-381.77 3557.93,-234.67 3829.11,-182.02"/>
<polygon fill="black" stroke="black" points="3830.18,-185.38 3839.33,-180.03 3828.85,-178.51 3830.18,-185.38"/>
</g>
<!-- [root] aws_iam_role_policy.attach_ecr_to_execution_ecs -->
<g id="node20" class="node">
<title>[root] aws_iam_role_policy.attach_ecr_to_execution_ecs</title>
<polygon fill="none" stroke="black" points="1956.38,-540 1655.75,-540 1655.75,-504 1956.38,-504 1956.38,-540"/>
<text text-anchor="middle" x="1806.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy.attach_ecr_to_execution_ecs</text>
</g>
<!-- [root] aws_iam_role_policy.attach_ecr_to_execution_ecs&#45;&gt;[root] aws_iam_role.ecs_task_execution_role -->
<g id="edge36" class="edge">
<title>[root] aws_iam_role_policy.attach_ecr_to_execution_ecs&#45;&gt;[root] aws_iam_role.ecs_task_execution_role</title>
<path fill="none" stroke="black" d="M1676.38,-503.96C1591.66,-492.18 1493.43,-477.07 1475.07,-468 1454.21,-457.7 1455.78,-445.82 1437.07,-432 1421.7,-420.65 1403.65,-409.94 1387.51,-401.15"/>
<polygon fill="black" stroke="black" points="1388.72,-397.83 1378.25,-396.2 1385.43,-404 1388.72,-397.83"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_ecr_policy -->
<g id="node48" class="node">
<title>[root] data.aws_iam_policy_document.ecs_ecr_policy</title>
<polygon fill="none" stroke="black" points="2628.31,-324 2343.83,-324 2343.83,-288 2628.31,-288 2628.31,-324"/>
<text text-anchor="middle" x="2486.07" y="-301.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.ecs_ecr_policy</text>
</g>
<!-- [root] aws_iam_role_policy.attach_ecr_to_execution_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_ecr_policy -->
<g id="edge37" class="edge">
<title>[root] aws_iam_role_policy.attach_ecr_to_execution_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_ecr_policy</title>
<path fill="none" stroke="black" d="M1895.47,-503.97C1936.18,-495.1 1984.65,-482.95 2027.07,-468 2062.32,-455.58 2068.34,-445.83 2103.07,-432 2210.41,-389.26 2338.69,-349.63 2416.19,-326.9"/>
<polygon fill="black" stroke="black" points="2417.24,-330.24 2425.85,-324.07 2415.27,-323.52 2417.24,-330.24"/>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_ecs -->
<g id="node21" class="node">
<title>[root] aws_iam_role_policy.attach_kinesis_to_ecs</title>
<polygon fill="none" stroke="black" points="826.76,-540 565.38,-540 565.38,-504 826.76,-504 826.76,-540"/>
<text text-anchor="middle" x="696.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy.attach_kinesis_to_ecs</text>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_ecs&#45;&gt;[root] aws_iam_role.ecs_task_role -->
<g id="edge38" class="edge">
<title>[root] aws_iam_role_policy.attach_kinesis_to_ecs&#45;&gt;[root] aws_iam_role.ecs_task_role</title>
<path fill="none" stroke="black" d="M605.59,-503.96C553.06,-490 502.41,-466.8 531.07,-432 533.95,-428.5 627.97,-410.65 704.47,-396.61"/>
<polygon fill="black" stroke="black" points="705.45,-399.99 714.65,-394.75 704.19,-393.11 705.45,-399.99"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_kinesis_policy -->
<g id="node49" class="node">
<title>[root] data.aws_iam_policy_document.ecs_kinesis_policy</title>
<polygon fill="none" stroke="black" points="484.11,-468 178.03,-468 178.03,-432 484.11,-432 484.11,-468"/>
<text text-anchor="middle" x="331.07" y="-445.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.ecs_kinesis_policy</text>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_kinesis_policy -->
<g id="edge39" class="edge">
<title>[root] aws_iam_role_policy.attach_kinesis_to_ecs&#45;&gt;[root] data.aws_iam_policy_document.ecs_kinesis_policy</title>
<path fill="none" stroke="black" d="M607.25,-503.97C553.71,-493.7 485.41,-480.6 430.14,-470"/>
<polygon fill="black" stroke="black" points="430.45,-466.5 419.97,-468.05 429.13,-473.37 430.45,-466.5"/>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_iot -->
<g id="node22" class="node">
<title>[root] aws_iam_role_policy.attach_kinesis_to_iot</title>
<polygon fill="none" stroke="black" points="1103.16,-540 844.97,-540 844.97,-504 1103.16,-504 1103.16,-540"/>
<text text-anchor="middle" x="974.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy.attach_kinesis_to_iot</text>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_iot&#45;&gt;[root] aws_iam_role.iot_kinesis_role -->
<g id="edge40" class="edge">
<title>[root] aws_iam_role_policy.attach_kinesis_to_iot&#45;&gt;[root] aws_iam_role.iot_kinesis_role</title>
<path fill="none" stroke="black" d="M1061.67,-503.97C1114.48,-493.7 1181.83,-480.6 1236.36,-470"/>
<polygon fill="black" stroke="black" points="1237.23,-473.39 1246.38,-468.05 1235.9,-466.52 1237.23,-473.39"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_kinesis_policy -->
<g id="node51" class="node">
<title>[root] data.aws_iam_policy_document.iot_kinesis_policy</title>
<polygon fill="none" stroke="black" points="842.51,-468 539.62,-468 539.62,-432 842.51,-432 842.51,-468"/>
<text text-anchor="middle" x="691.07" y="-445.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.iot_kinesis_policy</text>
</g>
<!-- [root] aws_iam_role_policy.attach_kinesis_to_iot&#45;&gt;[root] data.aws_iam_policy_document.iot_kinesis_policy -->
<g id="edge41" class="edge">
<title>[root] aws_iam_role_policy.attach_kinesis_to_iot&#45;&gt;[root] data.aws_iam_policy_document.iot_kinesis_policy</title>
<path fill="none" stroke="black" d="M905.2,-503.97C864.37,-493.87 812.47,-481.03 769.99,-470.52"/>
<polygon fill="black" stroke="black" points="770.79,-467.11 760.24,-468.11 769.11,-473.91 770.79,-467.11"/>
</g>
<!-- [root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role -->
<g id="node23" class="node">
<title>[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role</title>
<polygon fill="none" stroke="black" points="3653.61,-540 3300.53,-540 3300.53,-504 3653.61,-504 3653.61,-540"/>
<text text-anchor="middle" x="3477.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role</text>
</g>
<!-- [root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role -->
<g id="edge42" class="edge">
<title>[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role</title>
<path fill="none" stroke="black" d="M3467.43,-503.88C3430.09,-437.53 3294.8,-197.13 3249.76,-117.11"/>
<polygon fill="black" stroke="black" points="3252.69,-115.17 3244.73,-108.17 3246.59,-118.6 3252.69,-115.17"/>
</g>
<!-- [root] aws_iam_role_policy_attachment.ecs_ec2_role -->
<g id="node24" class="node">
<title>[root] aws_iam_role_policy_attachment.ecs_ec2_role</title>
<polygon fill="none" stroke="black" points="3952.58,-540 3671.56,-540 3671.56,-504 3952.58,-504 3952.58,-540"/>
<text text-anchor="middle" x="3812.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iam_role_policy_attachment.ecs_ec2_role</text>
</g>
<!-- [root] aws_iam_role_policy_attachment.ecs_ec2_role&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role -->
<g id="edge43" class="edge">
<title>[root] aws_iam_role_policy_attachment.ecs_ec2_role&#45;&gt;[root] aws_iam_role.ecs_ec2_instance_role</title>
<path fill="none" stroke="black" d="M3729.71,-503.94C3628.52,-480.56 3470.07,-435.01 3470.07,-379 3470.07,-379 3470.07,-379 3470.07,-233 3470.07,-166.12 3399.49,-129.9 3335.69,-110.82"/>
<polygon fill="black" stroke="black" points="3336.5,-107.41 3325.92,-108.01 3334.57,-114.14 3336.5,-107.41"/>
</g>
<!-- [root] aws_internet_gateway.gw&#45;&gt;[root] aws_vpc.main -->
<g id="edge44" class="edge">
<title>[root] aws_internet_gateway.gw&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M2318.99,-143.97C2287.6,-133.7 2247.55,-120.6 2215.14,-109.99"/>
<polygon fill="black" stroke="black" points="2215.93,-106.57 2205.34,-106.79 2213.76,-113.23 2215.93,-106.57"/>
</g>
<!-- [root] aws_iot_policy.iot_thing_connect_policy -->
<g id="node26" class="node">
<title>[root] aws_iot_policy.iot_thing_connect_policy</title>
<polygon fill="none" stroke="black" points="3282.79,-540 3035.35,-540 3035.35,-504 3282.79,-504 3282.79,-540"/>
<text text-anchor="middle" x="3159.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iot_policy.iot_thing_connect_policy</text>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_connect_policy -->
<g id="node52" class="node">
<title>[root] data.aws_iam_policy_document.iot_thing_connect_policy</title>
<polygon fill="none" stroke="black" points="3403.93,-468 3060.2,-468 3060.2,-432 3403.93,-432 3403.93,-468"/>
<text text-anchor="middle" x="3232.07" y="-445.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.iot_thing_connect_policy</text>
</g>
<!-- [root] aws_iot_policy.iot_thing_connect_policy&#45;&gt;[root] data.aws_iam_policy_document.iot_thing_connect_policy -->
<g id="edge45" class="edge">
<title>[root] aws_iot_policy.iot_thing_connect_policy&#45;&gt;[root] data.aws_iam_policy_document.iot_thing_connect_policy</title>
<path fill="none" stroke="black" d="M3177.11,-503.7C3186.13,-495.05 3197.19,-484.45 3207.01,-475.03"/>
<polygon fill="black" stroke="black" points="3209.43,-477.55 3214.23,-468.1 3204.59,-472.5 3209.43,-477.55"/>
</g>
<!-- [root] aws_iot_policy.iot_thing_pub_policy -->
<g id="node27" class="node">
<title>[root] aws_iot_policy.iot_thing_pub_policy</title>
<polygon fill="none" stroke="black" points="3017.26,-540 2792.88,-540 2792.88,-504 3017.26,-504 3017.26,-540"/>
<text text-anchor="middle" x="2905.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iot_policy.iot_thing_pub_policy</text>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_pub_policy -->
<g id="node53" class="node">
<title>[root] data.aws_iam_policy_document.iot_thing_pub_policy</title>
<polygon fill="none" stroke="black" points="3042.4,-468 2721.73,-468 2721.73,-432 3042.4,-432 3042.4,-468"/>
<text text-anchor="middle" x="2882.07" y="-445.8" font-family="Times,serif" font-size="14.00">data.aws_iam_policy_document.iot_thing_pub_policy</text>
</g>
<!-- [root] aws_iot_policy.iot_thing_pub_policy&#45;&gt;[root] data.aws_iam_policy_document.iot_thing_pub_policy -->
<g id="edge46" class="edge">
<title>[root] aws_iot_policy.iot_thing_pub_policy&#45;&gt;[root] data.aws_iam_policy_document.iot_thing_pub_policy</title>
<path fill="none" stroke="black" d="M2899.38,-503.7C2896.82,-495.9 2893.73,-486.51 2890.88,-477.83"/>
<polygon fill="black" stroke="black" points="2894.13,-476.51 2887.69,-468.1 2887.48,-478.7 2894.13,-476.51"/>
</g>
<!-- [root] aws_iot_thing.pi_collector -->
<g id="node28" class="node">
<title>[root] aws_iot_thing.pi_collector</title>
<polygon fill="none" stroke="black" points="3286.76,-252 3121.37,-252 3121.37,-216 3286.76,-216 3286.76,-252"/>
<text text-anchor="middle" x="3204.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_iot_thing.pi_collector</text>
</g>
<!-- [root] aws_iot_thing.pi_collector&#45;&gt;[root] provider.aws -->
<g id="edge47" class="edge">
<title>[root] aws_iot_thing.pi_collector&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M3192.55,-215.99C3166.55,-178.18 3103.13,-89.11 3071.07,-72 2996.13,-32 2754.89,-22.13 2626.4,-19.74"/>
<polygon fill="black" stroke="black" points="2626.28,-16.23 2616.22,-19.56 2626.16,-23.23 2626.28,-16.23"/>
</g>
<!-- [root] aws_iot_topic_rule.kinesis_push_rule -->
<g id="node29" class="node">
<title>[root] aws_iot_topic_rule.kinesis_push_rule</title>
<polygon fill="none" stroke="black" points="1637.98,-540 1410.15,-540 1410.15,-504 1637.98,-504 1637.98,-540"/>
<text text-anchor="middle" x="1524.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_iot_topic_rule.kinesis_push_rule</text>
</g>
<!-- [root] aws_iot_topic_rule.kinesis_push_rule&#45;&gt;[root] aws_iam_role.iot_kinesis_role -->
<g id="edge48" class="edge">
<title>[root] aws_iot_topic_rule.kinesis_push_rule&#45;&gt;[root] aws_iam_role.iot_kinesis_role</title>
<path fill="none" stroke="black" d="M1477.59,-503.88C1451.15,-494.14 1417.86,-481.87 1390,-471.61"/>
<polygon fill="black" stroke="black" points="1390.99,-468.24 1380.4,-468.07 1388.57,-474.81 1390.99,-468.24"/>
</g>
<!-- [root] var.mqtt_topic -->
<g id="node67" class="node">
<title>[root] var.mqtt_topic</title>
<polygon fill="none" stroke="black" points="2011.84,-468 1920.29,-468 1920.29,-432 2017.84,-432 2017.84,-462 2011.84,-468"/>
<polyline fill="none" stroke="black" points="2011.84,-468 2011.84,-462 "/>
<polyline fill="none" stroke="black" points="2017.84,-462 2011.84,-462 "/>
<text text-anchor="middle" x="1969.07" y="-445.8" font-family="Times,serif" font-size="14.00">var.mqtt_topic</text>
</g>
<!-- [root] aws_iot_topic_rule.kinesis_push_rule&#45;&gt;[root] var.mqtt_topic -->
<g id="edge49" class="edge">
<title>[root] aws_iot_topic_rule.kinesis_push_rule&#45;&gt;[root] var.mqtt_topic</title>
<path fill="none" stroke="black" d="M1638.02,-505.23C1749.99,-489.73 1904.4,-468.34 1906.07,-468 1907.52,-467.7 1909,-467.39 1910.48,-467.07"/>
<polygon fill="black" stroke="black" points="1911.42,-470.45 1920.37,-464.79 1909.84,-463.63 1911.42,-470.45"/>
</g>
<!-- [root] aws_kinesis_stream.mqtt_ingestor -->
<g id="node30" class="node">
<title>[root] aws_kinesis_stream.mqtt_ingestor</title>
<polygon fill="none" stroke="black" points="696.82,-396 487.32,-396 487.32,-360 696.82,-360 696.82,-396"/>
<text text-anchor="middle" x="592.07" y="-373.8" font-family="Times,serif" font-size="14.00">aws_kinesis_stream.mqtt_ingestor</text>
</g>
<!-- [root] aws_kinesis_stream.mqtt_ingestor&#45;&gt;[root] provider.aws -->
<g id="edge50" class="edge">
<title>[root] aws_kinesis_stream.mqtt_ingestor&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M629.01,-359.95C671.08,-337.69 734.07,-294.44 734.07,-235 734.07,-235 734.07,-235 734.07,-161 734.07,-72.7 2121.2,-30.18 2466.8,-20.95"/>
<polygon fill="black" stroke="black" points="2467.06,-24.45 2476.96,-20.68 2466.87,-17.45 2467.06,-24.45"/>
</g>
<!-- [root] aws_launch_configuration.launch&#45;&gt;[root] aws_iam_instance_profile.ecs_ec2_instance -->
<g id="edge51" class="edge">
<title>[root] aws_launch_configuration.launch&#45;&gt;[root] aws_iam_instance_profile.ecs_ec2_instance</title>
<path fill="none" stroke="black" d="M2842.36,-215.7C2851.5,-207.05 2862.71,-196.45 2872.67,-187.03"/>
<polygon fill="black" stroke="black" points="2875.13,-189.52 2879.99,-180.1 2870.32,-184.43 2875.13,-189.52"/>
</g>
<!-- [root] aws_security_group.ec2_instance -->
<g id="node37" class="node">
<title>[root] aws_security_group.ec2_instance</title>
<polygon fill="none" stroke="black" points="2711.12,-180 2507.02,-180 2507.02,-144 2711.12,-144 2711.12,-180"/>
<text text-anchor="middle" x="2609.07" y="-157.8" font-family="Times,serif" font-size="14.00">aws_security_group.ec2_instance</text>
</g>
<!-- [root] aws_launch_configuration.launch&#45;&gt;[root] aws_security_group.ec2_instance -->
<g id="edge52" class="edge">
<title>[root] aws_launch_configuration.launch&#45;&gt;[root] aws_security_group.ec2_instance</title>
<path fill="none" stroke="black" d="M2771.75,-215.97C2741.45,-206.1 2703.12,-193.62 2671.28,-183.25"/>
<polygon fill="black" stroke="black" points="2672.21,-179.88 2661.62,-180.11 2670.05,-186.53 2672.21,-179.88"/>
</g>
<!-- [root] data.aws_ami.amazon_linux_ecs -->
<g id="node44" class="node">
<title>[root] data.aws_ami.amazon_linux_ecs</title>
<polygon fill="none" stroke="black" points="2774.34,-108 2573.8,-108 2573.8,-72 2774.34,-72 2774.34,-108"/>
<text text-anchor="middle" x="2674.07" y="-85.8" font-family="Times,serif" font-size="14.00">data.aws_ami.amazon_linux_ecs</text>
</g>
<!-- [root] aws_launch_configuration.launch&#45;&gt;[root] data.aws_ami.amazon_linux_ecs -->
<g id="edge53" class="edge">
<title>[root] aws_launch_configuration.launch&#45;&gt;[root] data.aws_ami.amazon_linux_ecs</title>
<path fill="none" stroke="black" d="M2801.13,-215.83C2788.13,-205.8 2771.78,-192.66 2758.07,-180 2735.86,-159.5 2712.41,-134.31 2695.94,-115.97"/>
<polygon fill="black" stroke="black" points="2698.16,-113.2 2688.9,-108.06 2692.94,-117.86 2698.16,-113.2"/>
</g>
<!-- [root] data.template_file.user_data -->
<g id="node54" class="node">
<title>[root] data.template_file.user_data</title>
<polygon fill="none" stroke="black" points="3671.62,-180 3498.52,-180 3498.52,-144 3671.62,-144 3671.62,-180"/>
<text text-anchor="middle" x="3585.07" y="-157.8" font-family="Times,serif" font-size="14.00">data.template_file.user_data</text>
</g>
<!-- [root] aws_launch_configuration.launch&#45;&gt;[root] data.template_file.user_data -->
<g id="edge54" class="edge">
<title>[root] aws_launch_configuration.launch&#45;&gt;[root] data.template_file.user_data</title>
<path fill="none" stroke="black" d="M2926.3,-223.6C3073.66,-210.04 3343.86,-185.19 3488.18,-171.91"/>
<polygon fill="black" stroke="black" points="3488.71,-175.38 3498.35,-170.98 3488.07,-168.41 3488.71,-175.38"/>
</g>
<!-- [root] aws_security_group.lb -->
<g id="node39" class="node">
<title>[root] aws_security_group.lb</title>
<polygon fill="none" stroke="black" points="1724.71,-252 1581.43,-252 1581.43,-216 1724.71,-216 1724.71,-252"/>
<text text-anchor="middle" x="1653.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_security_group.lb</text>
</g>
<!-- [root] aws_lb.main&#45;&gt;[root] aws_security_group.lb -->
<g id="edge55" class="edge">
<title>[root] aws_lb.main&#45;&gt;[root] aws_security_group.lb</title>
<path fill="none" stroke="black" d="M1824.3,-290.75C1792.88,-280.52 1750.08,-266.59 1715.14,-255.21"/>
<polygon fill="black" stroke="black" points="1716.1,-251.84 1705.5,-252.07 1713.93,-258.5 1716.1,-251.84"/>
</g>
<!-- [root] aws_subnet.public -->
<g id="node42" class="node">
<title>[root] aws_subnet.public</title>
<polygon fill="none" stroke="black" points="2074.88,-252 1955.25,-252 1955.25,-216 2074.88,-216 2074.88,-252"/>
<text text-anchor="middle" x="2015.07" y="-229.8" font-family="Times,serif" font-size="14.00">aws_subnet.public</text>
</g>
<!-- [root] aws_lb.main&#45;&gt;[root] aws_subnet.public -->
<g id="edge56" class="edge">
<title>[root] aws_lb.main&#45;&gt;[root] aws_subnet.public</title>
<path fill="none" stroke="black" d="M1904.03,-287.88C1923.94,-278.39 1948.89,-266.51 1970.09,-256.42"/>
<polygon fill="black" stroke="black" points="1971.7,-259.53 1979.22,-252.07 1968.69,-253.21 1971.7,-259.53"/>
</g>
<!-- [root] aws_nat_gateway.gw -->
<g id="node33" class="node">
<title>[root] aws_nat_gateway.gw</title>
<polygon fill="none" stroke="black" points="2137.79,-324 2002.35,-324 2002.35,-288 2137.79,-288 2137.79,-324"/>
<text text-anchor="middle" x="2070.07" y="-301.8" font-family="Times,serif" font-size="14.00">aws_nat_gateway.gw</text>
</g>
<!-- [root] aws_nat_gateway.gw&#45;&gt;[root] aws_eip.gw -->
<g id="edge57" class="edge">
<title>[root] aws_nat_gateway.gw&#45;&gt;[root] aws_eip.gw</title>
<path fill="none" stroke="black" d="M2120.63,-287.96C2149.18,-278.33 2185.76,-265.99 2226.1,-252.32"/>
<polygon fill="black" stroke="black" points="2227.25,-255.63 2235.6,-249.11 2225,-249 2227.25,-255.63"/>
</g>
<!-- [root] aws_nat_gateway.gw&#45;&gt;[root] aws_subnet.public -->
<g id="edge58" class="edge">
<title>[root] aws_nat_gateway.gw&#45;&gt;[root] aws_subnet.public</title>
<path fill="none" stroke="black" d="M2056.47,-287.7C2049.94,-279.39 2042,-269.28 2034.82,-260.14"/>
<polygon fill="black" stroke="black" points="2037.44,-257.81 2028.51,-252.1 2031.93,-262.13 2037.44,-257.81"/>
</g>
<!-- [root] aws_route.internet_access -->
<g id="node34" class="node">
<title>[root] aws_route.internet_access</title>
<polygon fill="none" stroke="black" points="2412.12,-540 2250.02,-540 2250.02,-504 2412.12,-504 2412.12,-540"/>
<text text-anchor="middle" x="2331.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_route.internet_access</text>
</g>
<!-- [root] aws_route.internet_access&#45;&gt;[root] aws_internet_gateway.gw -->
<g id="edge59" class="edge">
<title>[root] aws_route.internet_access&#45;&gt;[root] aws_internet_gateway.gw</title>
<path fill="none" stroke="black" d="M2412.18,-509.24C2500.06,-496.16 2628.92,-475.84 2637.07,-468 2666.22,-439.96 2656.07,-419.45 2656.07,-379 2656.07,-379 2656.07,-379 2656.07,-305 2656.07,-257.21 2526.06,-209.2 2441.66,-183.07"/>
<polygon fill="black" stroke="black" points="2442.44,-179.65 2431.86,-180.07 2440.4,-186.34 2442.44,-179.65"/>
</g>
<!-- [root] aws_route_table.private -->
<g id="node35" class="node">
<title>[root] aws_route_table.private</title>
<polygon fill="none" stroke="black" points="2262.18,-468 2111.95,-468 2111.95,-432 2262.18,-432 2262.18,-468"/>
<text text-anchor="middle" x="2187.07" y="-445.8" font-family="Times,serif" font-size="14.00">aws_route_table.private</text>
</g>
<!-- [root] aws_route_table.private&#45;&gt;[root] aws_nat_gateway.gw -->
<g id="edge60" class="edge">
<title>[root] aws_route_table.private&#45;&gt;[root] aws_nat_gateway.gw</title>
<path fill="none" stroke="black" d="M2172.95,-431.87C2152.49,-407.03 2114.43,-360.85 2090.78,-332.14"/>
<polygon fill="black" stroke="black" points="2093.29,-329.68 2084.23,-324.19 2087.89,-334.13 2093.29,-329.68"/>
</g>
<!-- [root] aws_route_table_association.private -->
<g id="node36" class="node">
<title>[root] aws_route_table_association.private</title>
<polygon fill="none" stroke="black" points="2193.89,-540 1974.25,-540 1974.25,-504 2193.89,-504 2193.89,-540"/>
<text text-anchor="middle" x="2084.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_route_table_association.private</text>
</g>
<!-- [root] aws_route_table_association.private&#45;&gt;[root] aws_route_table.private -->
<g id="edge61" class="edge">
<title>[root] aws_route_table_association.private&#45;&gt;[root] aws_route_table.private</title>
<path fill="none" stroke="black" d="M2109.26,-503.88C2122.48,-494.89 2138.86,-483.76 2153.17,-474.03"/>
<polygon fill="black" stroke="black" points="2155.47,-476.71 2161.77,-468.19 2151.54,-470.92 2155.47,-476.71"/>
</g>
<!-- [root] aws_route_table_association.private&#45;&gt;[root] aws_subnet.private -->
<g id="edge62" class="edge">
<title>[root] aws_route_table_association.private&#45;&gt;[root] aws_subnet.private</title>
<path fill="none" stroke="black" d="M2082.93,-503.52C2080.14,-472.24 2070.79,-405.69 2040.07,-360 2025.39,-338.16 2004.72,-347.59 1993.07,-324 1985.98,-309.65 1983.66,-300.95 1993.07,-288 1998.94,-279.92 2043.47,-265.74 2084.5,-254.08"/>
<polygon fill="black" stroke="black" points="2085.61,-257.41 2094.28,-251.33 2083.71,-250.67 2085.61,-257.41"/>
</g>
<!-- [root] aws_security_group.ec2_instance&#45;&gt;[root] aws_vpc.main -->
<g id="edge63" class="edge">
<title>[root] aws_security_group.ec2_instance&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M2506.78,-145.16C2416.87,-131.23 2289.19,-111.46 2215.57,-100.06"/>
<polygon fill="black" stroke="black" points="2215.97,-96.58 2205.55,-98.51 2214.9,-103.5 2215.97,-96.58"/>
</g>
<!-- [root] aws_security_group.ecs_tasks&#45;&gt;[root] aws_security_group.lb -->
<g id="edge64" class="edge">
<title>[root] aws_security_group.ecs_tasks&#45;&gt;[root] aws_security_group.lb</title>
<path fill="none" stroke="black" d="M1583.16,-431.85C1596.36,-394.68 1627.7,-306.44 1643.54,-261.82"/>
<polygon fill="black" stroke="black" points="1646.9,-262.83 1646.95,-252.23 1640.3,-260.48 1646.9,-262.83"/>
</g>
<!-- [root] var.app_port -->
<g id="node60" class="node">
<title>[root] var.app_port</title>
<polygon fill="none" stroke="black" points="1559.44,-396 1478.69,-396 1478.69,-360 1565.44,-360 1565.44,-390 1559.44,-396"/>
<polyline fill="none" stroke="black" points="1559.44,-396 1559.44,-390 "/>
<polyline fill="none" stroke="black" points="1565.44,-390 1559.44,-390 "/>
<text text-anchor="middle" x="1522.07" y="-373.8" font-family="Times,serif" font-size="14.00">var.app_port</text>
</g>
<!-- [root] aws_security_group.ecs_tasks&#45;&gt;[root] var.app_port -->
<g id="edge65" class="edge">
<title>[root] aws_security_group.ecs_tasks&#45;&gt;[root] var.app_port</title>
<path fill="none" stroke="black" d="M1563.47,-431.7C1556.94,-423.39 1549,-413.28 1541.82,-404.14"/>
<polygon fill="black" stroke="black" points="1544.44,-401.81 1535.51,-396.1 1538.93,-406.13 1544.44,-401.81"/>
</g>
<!-- [root] aws_security_group.lb&#45;&gt;[root] aws_vpc.main -->
<g id="edge66" class="edge">
<title>[root] aws_security_group.lb&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M1684,-215.94C1721.84,-195.79 1788.34,-162.67 1849.07,-144 1933.81,-117.94 2035.86,-103.56 2098.59,-96.56"/>
<polygon fill="black" stroke="black" points="2099.13,-100.02 2108.69,-95.46 2098.37,-93.06 2099.13,-100.02"/>
</g>
<!-- [root] aws_security_group_rule.outbound_internet_access -->
<g id="node40" class="node">
<title>[root] aws_security_group_rule.outbound_internet_access</title>
<polygon fill="none" stroke="black" points="2774.49,-540 2467.65,-540 2467.65,-504 2774.49,-504 2774.49,-540"/>
<text text-anchor="middle" x="2621.07" y="-517.8" font-family="Times,serif" font-size="14.00">aws_security_group_rule.outbound_internet_access</text>
</g>
<!-- [root] aws_security_group_rule.outbound_internet_access&#45;&gt;[root] aws_security_group.ec2_instance -->
<g id="edge67" class="edge">
<title>[root] aws_security_group_rule.outbound_internet_access&#45;&gt;[root] aws_security_group.ec2_instance</title>
<path fill="none" stroke="black" d="M2641.21,-503.64C2651.2,-494.05 2662.67,-481.38 2670.07,-468 2689.88,-432.14 2694.07,-419.97 2694.07,-379 2694.07,-379 2694.07,-379 2694.07,-305 2694.07,-264.03 2691.81,-250.72 2670.07,-216 2663.08,-204.83 2653.01,-194.73 2643.06,-186.41"/>
<polygon fill="black" stroke="black" points="2645.17,-183.62 2635.17,-180.13 2640.81,-189.1 2645.17,-183.62"/>
</g>
<!-- [root] aws_subnet.private&#45;&gt;[root] aws_vpc.main -->
<g id="edge68" class="edge">
<title>[root] aws_subnet.private&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M2156.19,-215.87C2156.36,-191.67 2156.67,-147.21 2156.87,-118.39"/>
<polygon fill="black" stroke="black" points="2160.38,-118.21 2156.95,-108.19 2153.38,-118.16 2160.38,-118.21"/>
</g>
<!-- [root] data.aws_availability_zones.available -->
<g id="node45" class="node">
<title>[root] data.aws_availability_zones.available</title>
<polygon fill="none" stroke="black" points="2129.04,-180 1901.1,-180 1901.1,-144 2129.04,-144 2129.04,-180"/>
<text text-anchor="middle" x="2015.07" y="-157.8" font-family="Times,serif" font-size="14.00">data.aws_availability_zones.available</text>
</g>
<!-- [root] aws_subnet.private&#45;&gt;[root] data.aws_availability_zones.available -->
<g id="edge69" class="edge">
<title>[root] aws_subnet.private&#45;&gt;[root] data.aws_availability_zones.available</title>
<path fill="none" stroke="black" d="M2121.57,-215.88C2102.63,-206.47 2078.94,-194.71 2058.71,-184.67"/>
<polygon fill="black" stroke="black" points="2060.21,-181.5 2049.69,-180.19 2057.09,-187.77 2060.21,-181.5"/>
</g>
<!-- [root] aws_subnet.private&#45;&gt;[root] var.az_count -->
<g id="edge70" class="edge">
<title>[root] aws_subnet.private&#45;&gt;[root] var.az_count</title>
<path fill="none" stroke="black" d="M2174.11,-215.7C2183.13,-207.05 2194.19,-196.45 2204.01,-187.03"/>
<polygon fill="black" stroke="black" points="2206.43,-189.55 2211.23,-180.1 2201.59,-184.5 2206.43,-189.55"/>
</g>
<!-- [root] aws_subnet.public&#45;&gt;[root] aws_vpc.main -->
<g id="edge71" class="edge">
<title>[root] aws_subnet.public&#45;&gt;[root] aws_vpc.main</title>
<path fill="none" stroke="black" d="M1955.04,-222C1931.26,-214.39 1906.25,-201.56 1892.07,-180 1883.27,-166.63 1881.92,-156.37 1892.07,-144 1917.69,-112.75 2028.84,-99.55 2098.8,-94.27"/>
<polygon fill="black" stroke="black" points="2099.08,-97.76 2108.81,-93.55 2098.58,-90.78 2099.08,-97.76"/>
</g>
<!-- [root] aws_subnet.public&#45;&gt;[root] data.aws_availability_zones.available -->
<g id="edge72" class="edge">
<title>[root] aws_subnet.public&#45;&gt;[root] data.aws_availability_zones.available</title>
<path fill="none" stroke="black" d="M2015.07,-215.7C2015.07,-207.98 2015.07,-198.71 2015.07,-190.11"/>
<polygon fill="black" stroke="black" points="2018.57,-190.1 2015.07,-180.1 2011.57,-190.1 2018.57,-190.1"/>
</g>
<!-- [root] aws_subnet.public&#45;&gt;[root] var.az_count -->
<g id="edge73" class="edge">
<title>[root] aws_subnet.public&#45;&gt;[root] var.az_count</title>
<path fill="none" stroke="black" d="M2067.14,-215.97C2100.14,-205.17 2142.69,-191.25 2175.89,-180.39"/>
<polygon fill="black" stroke="black" points="2177.02,-183.71 2185.43,-177.27 2174.84,-177.06 2177.02,-183.71"/>
</g>
<!-- [root] aws_vpc.main&#45;&gt;[root] provider.aws -->
<g id="edge74" class="edge">
<title>[root] aws_vpc.main&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M2205.69,-80.21C2278.98,-66.95 2417.15,-41.96 2492.27,-28.37"/>
<polygon fill="black" stroke="black" points="2493.22,-31.75 2502.43,-26.53 2491.97,-24.87 2493.22,-31.75"/>
</g>
<!-- [root] data.aws_ami.amazon_linux_ecs&#45;&gt;[root] provider.aws -->
<g id="edge75" class="edge">
<title>[root] data.aws_ami.amazon_linux_ecs&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M2642.27,-71.88C2621.93,-60.92 2595.66,-46.78 2575.41,-35.88"/>
<polygon fill="black" stroke="black" points="2577.04,-32.78 2566.58,-31.12 2573.72,-38.94 2577.04,-32.78"/>
</g>
<!-- [root] data.aws_availability_zones.available&#45;&gt;[root] provider.aws -->
<g id="edge76" class="edge">
<title>[root] data.aws_availability_zones.available&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M2079.16,-143.98C2118.17,-133.62 2169,-120.08 2214.07,-108 2316.41,-80.57 2436.53,-48.11 2499.84,-30.98"/>
<polygon fill="black" stroke="black" points="2501.13,-34.25 2509.87,-28.26 2499.31,-27.49 2501.13,-34.25"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_assume_role_policy&#45;&gt;[root] provider.aws -->
<g id="edge77" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_assume_role_policy&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M1093.14,-287.88C1221.54,-243.86 1578.77,-126.39 1886.07,-72 2092.98,-35.38 2341.02,-24.03 2465.15,-20.53"/>
<polygon fill="black" stroke="black" points="2465.42,-24.03 2475.32,-20.26 2465.23,-17.03 2465.42,-24.03"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.grafana -->
<g id="edge78" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.grafana</title>
<path fill="none" stroke="black" d="M3943.13,-143.7C3951.01,-135.22 3960.62,-124.86 3969.24,-115.58"/>
<polygon fill="black" stroke="black" points="3971.95,-117.81 3976.18,-108.1 3966.82,-113.05 3971.95,-117.81"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.influxdb -->
<g id="edge79" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.influxdb</title>
<path fill="none" stroke="black" d="M4001.29,-143.97C4045.56,-133.8 4101.91,-120.87 4147.84,-110.33"/>
<polygon fill="black" stroke="black" points="4148.81,-113.7 4157.78,-108.05 4147.25,-106.88 4148.81,-113.7"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.kinesis_consumer -->
<g id="edge80" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_cloudwatch_policy&#45;&gt;[root] aws_cloudwatch_log_group.kinesis_consumer</title>
<path fill="none" stroke="black" d="M3878.15,-143.97C3850.07,-134.19 3814.61,-121.84 3785,-111.52"/>
<polygon fill="black" stroke="black" points="3785.79,-108.09 3775.2,-108.11 3783.49,-114.71 3785.79,-108.09"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_ecr_policy&#45;&gt;[root] provider.aws -->
<g id="edge81" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_ecr_policy&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M2485.79,-287.86C2485.66,-258.19 2486.9,-195.5 2498.07,-144 2505.86,-108.05 2521.73,-68.51 2532.63,-43.72"/>
<polygon fill="black" stroke="black" points="2535.93,-44.92 2536.82,-34.37 2529.54,-42.07 2535.93,-44.92"/>
</g>
<!-- [root] data.aws_iam_policy_document.ecs_kinesis_policy&#45;&gt;[root] aws_kinesis_stream.mqtt_ingestor -->
<g id="edge82" class="edge">
<title>[root] data.aws_iam_policy_document.ecs_kinesis_policy&#45;&gt;[root] aws_kinesis_stream.mqtt_ingestor</title>
<path fill="none" stroke="black" d="M394.58,-431.97C432,-421.93 479.5,-409.19 518.54,-398.72"/>
<polygon fill="black" stroke="black" points="519.52,-402.08 528.27,-396.11 517.7,-395.32 519.52,-402.08"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_assume_role_policy&#45;&gt;[root] provider.aws -->
<g id="edge83" class="edge">
<title>[root] data.aws_iam_policy_document.iot_assume_role_policy&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M1429.03,-287.93C1463.46,-269.24 1520.97,-238.88 1572.07,-216 1794.06,-116.58 1860.06,-111.51 2100.07,-72 2234.77,-49.83 2393.92,-33.11 2480.37,-24.81"/>
<polygon fill="black" stroke="black" points="2480.92,-28.27 2490.54,-23.84 2480.26,-21.31 2480.92,-28.27"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_kinesis_policy&#45;&gt;[root] aws_kinesis_stream.mqtt_ingestor -->
<g id="edge84" class="edge">
<title>[root] data.aws_iam_policy_document.iot_kinesis_policy&#45;&gt;[root] aws_kinesis_stream.mqtt_ingestor</title>
<path fill="none" stroke="black" d="M666.85,-431.88C654.14,-422.89 638.4,-411.76 624.64,-402.03"/>
<polygon fill="black" stroke="black" points="626.56,-399.11 616.38,-396.19 622.52,-404.82 626.56,-399.11"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] aws_iot_thing.pi_collector -->
<g id="edge85" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] aws_iot_thing.pi_collector</title>
<path fill="none" stroke="black" d="M3229.82,-431.85C3224.98,-394.83 3213.51,-307.18 3207.65,-262.39"/>
<polygon fill="black" stroke="black" points="3211.09,-261.69 3206.32,-252.23 3204.15,-262.6 3211.09,-261.69"/>
</g>
<!-- [root] var.aws_account_id -->
<g id="node61" class="node">
<title>[root] var.aws_account_id</title>
<polygon fill="none" stroke="black" points="3205.37,-396 3084.76,-396 3084.76,-360 3211.37,-360 3211.37,-390 3205.37,-396"/>
<polyline fill="none" stroke="black" points="3205.37,-396 3205.37,-390 "/>
<polyline fill="none" stroke="black" points="3211.37,-390 3205.37,-390 "/>
<text text-anchor="middle" x="3148.07" y="-373.8" font-family="Times,serif" font-size="14.00">var.aws_account_id</text>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] var.aws_account_id -->
<g id="edge86" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] var.aws_account_id</title>
<path fill="none" stroke="black" d="M3211.3,-431.7C3200.83,-422.97 3187.96,-412.24 3176.57,-402.75"/>
<polygon fill="black" stroke="black" points="3178.52,-399.82 3168.59,-396.1 3174.03,-405.19 3178.52,-399.82"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] var.aws_region -->
<g id="edge87" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_connect_policy&#45;&gt;[root] var.aws_region</title>
<path fill="none" stroke="black" d="M3170.26,-431.97C3130.32,-420.96 3078.59,-406.7 3038.86,-395.75"/>
<polygon fill="black" stroke="black" points="3039.6,-392.33 3029.03,-393.04 3037.74,-399.08 3039.6,-392.33"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] provider.aws -->
<g id="edge88" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] provider.aws</title>
<path fill="none" stroke="black" d="M2981.94,-431.94C3002.97,-424.11 3023.24,-412.67 3038.07,-396 3064.94,-365.77 3057.07,-347.45 3057.07,-307 3057.07,-307 3057.07,-307 3057.07,-161 3057.07,-69.72 2751.56,-34.76 2612.07,-23.55"/>
<polygon fill="black" stroke="black" points="2612.16,-20.05 2601.92,-22.75 2611.61,-27.03 2612.16,-20.05"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] var.aws_account_id -->
<g id="edge89" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] var.aws_account_id</title>
<path fill="none" stroke="black" d="M2946.8,-431.97C2985.44,-421.8 3034.63,-408.85 3074.71,-398.3"/>
<polygon fill="black" stroke="black" points="3075.65,-401.68 3084.43,-395.75 3073.87,-394.91 3075.65,-401.68"/>
</g>
<!-- [root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] var.aws_region -->
<g id="edge90" class="edge">
<title>[root] data.aws_iam_policy_document.iot_thing_pub_policy&#45;&gt;[root] var.aws_region</title>
<path fill="none" stroke="black" d="M2905.8,-431.7C2918,-422.8 2933.05,-411.82 2946.25,-402.2"/>
<polygon fill="black" stroke="black" points="2948.59,-404.82 2954.61,-396.1 2944.47,-399.17 2948.59,-404.82"/>
</g>
<!-- [root] provider.template -->
<g id="node58" class="node">
<title>[root] provider.template</title>
<polygon fill="none" stroke="black" points="3467.07,-108 3364.74,-90 3467.07,-72 3569.39,-90 3467.07,-108"/>
<text text-anchor="middle" x="3467.07" y="-85.8" font-family="Times,serif" font-size="14.00">provider.template</text>
</g>
<!-- [root] data.template_file.user_data&#45;&gt;[root] provider.template -->
<g id="edge91" class="edge">
<title>[root] data.template_file.user_data&#45;&gt;[root] provider.template</title>
<path fill="none" stroke="black" d="M3556.2,-143.88C3538.65,-133.47 3516.25,-120.17 3498.29,-109.52"/>
<polygon fill="black" stroke="black" points="3499.74,-106.31 3489.35,-104.22 3496.17,-112.33 3499.74,-106.31"/>
</g>
<!-- [root] output.dashboard -->
<g id="node55" class="node">
<title>[root] output.dashboard</title>
<polygon fill="none" stroke="black" points="1386.38,-540 1279.75,-540 1279.75,-504 1392.38,-504 1392.38,-534 1386.38,-540"/>
<polyline fill="none" stroke="black" points="1386.38,-540 1386.38,-534 "/>
<polyline fill="none" stroke="black" points="1392.38,-534 1386.38,-534 "/>
<text text-anchor="middle" x="1336.07" y="-517.8" font-family="Times,serif" font-size="14.00">output.dashboard</text>
</g>
<!-- [root] output.dashboard&#45;&gt;[root] aws_lb.main -->
<g id="edge108" class="edge">
<title>[root] output.dashboard&#45;&gt;[root] aws_lb.main</title>
<path fill="none" stroke="black" d="M1392.66,-505.56C1395.49,-504.99 1398.31,-504.46 1401.07,-504 1504.82,-486.62 1776.9,-510.63 1873.07,-468 1894.34,-458.57 1891.05,-443.85 1911.07,-432 1956.06,-405.36 1992.27,-438.25 2023.07,-396 2053.67,-354.01 1977.93,-328.88 1921.86,-316.51"/>
<polygon fill="black" stroke="black" points="1922.51,-313.07 1912,-314.42 1921.06,-319.92 1922.51,-313.07"/>
</g>
<!-- [root] output.ecr_registry -->
<g id="node56" class="node">
<title>[root] output.ecr_registry</title>
<polygon fill="none" stroke="black" points="116.2,-468 -0.07,-468 -0.07,-432 122.2,-432 122.2,-462 116.2,-468"/>
<polyline fill="none" stroke="black" points="116.2,-468 116.2,-462 "/>
<polyline fill="none" stroke="black" points="122.2,-462 116.2,-462 "/>
<text text-anchor="middle" x="61.07" y="-445.8" font-family="Times,serif" font-size="14.00">output.ecr_registry</text>
</g>
<!-- [root] output.ecr_registry&#45;&gt;[root] aws_ecr_repository.kinesis_consumer -->
<g id="edge109" class="edge">
<title>[root] output.ecr_registry&#45;&gt;[root] aws_ecr_repository.kinesis_consumer</title>
<path fill="none" stroke="black" d="M108.04,-431.88C134.75,-422.14 168.39,-409.87 196.54,-399.61"/>
<polygon fill="black" stroke="black" points="198.06,-402.78 206.25,-396.07 195.66,-396.21 198.06,-402.78"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup) -->
<g id="node68" class="node">
<title>[root] meta.count&#45;boundary (EachMode fixup)</title>
<ellipse fill="none" stroke="black" cx="2034.07" cy="-594" rx="174.79" ry="18"/>
<text text-anchor="middle" x="2034.07" y="-589.8" font-family="Times,serif" font-size="14.00">[root] meta.count&#45;boundary (EachMode fixup)</text>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_ecr_lifecycle_policy.foopolicy -->
<g id="edge92" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_ecr_lifecycle_policy.foopolicy</title>
<path fill="none" stroke="black" d="M1859.62,-592.93C1584.71,-591.43 1033.8,-582.85 557.94,-540.11"/>
<polygon fill="black" stroke="black" points="558.04,-536.61 547.77,-539.19 557.41,-543.58 558.04,-536.61"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_ecs_service.main -->
<g id="edge93" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_ecs_service.main</title>
<path fill="none" stroke="black" d="M1868.53,-588.19C1715.94,-582.19 1483.12,-569.12 1271.69,-539.96"/>
<polygon fill="black" stroke="black" points="1272.03,-536.47 1261.64,-538.56 1271.06,-543.4 1272.03,-536.47"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs -->
<g id="edge94" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs</title>
<path fill="none" stroke="black" d="M2107.82,-577.66C2138.6,-569.33 2173.9,-557.13 2203.07,-540 2223.13,-528.22 2220.66,-515.18 2241.07,-504 2268.36,-489.05 2299.91,-478.24 2330.23,-470.46"/>
<polygon fill="black" stroke="black" points="2331.16,-473.84 2340.03,-468.04 2329.48,-467.04 2331.16,-473.84"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_ecr_to_execution_ecs -->
<g id="edge95" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_ecr_to_execution_ecs</title>
<path fill="none" stroke="black" d="M1981.19,-576.76C1948.36,-566.69 1905.93,-553.66 1871.06,-542.95"/>
<polygon fill="black" stroke="black" points="1872.03,-539.59 1861.44,-540 1869.97,-546.28 1872.03,-539.59"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_ecs -->
<g id="edge96" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_ecs</title>
<path fill="none" stroke="black" d="M1864.68,-589.59C1634.47,-584.04 1209.77,-570.52 837,-540.04"/>
<polygon fill="black" stroke="black" points="837.07,-536.53 826.82,-539.2 836.5,-543.51 837.07,-536.53"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_iot -->
<g id="edge97" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_iot</title>
<path fill="none" stroke="black" d="M1873.11,-586.93C1691.17,-579.33 1385.91,-564.4 1113.41,-540.09"/>
<polygon fill="black" stroke="black" points="1113.6,-536.59 1103.32,-539.18 1112.97,-543.56 1113.6,-536.59"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role -->
<g id="edge98" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role</title>
<path fill="none" stroke="black" d="M2154.24,-580.87C2175.49,-579.02 2197.42,-577.3 2218.07,-576 2691.35,-546.23 2813.67,-569.53 3290.09,-540.1"/>
<polygon fill="black" stroke="black" points="3290.57,-543.58 3300.34,-539.46 3290.14,-536.59 3290.57,-543.58"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_role -->
<g id="edge99" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_role</title>
<path fill="none" stroke="black" d="M2153.25,-580.81C2174.8,-578.94 2197.09,-577.23 2218.07,-576 2855.94,-538.63 3020.42,-583.96 3660.91,-540.11"/>
<polygon fill="black" stroke="black" points="3661.59,-543.57 3671.32,-539.39 3661.11,-536.59 3661.59,-543.57"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_policy.iot_thing_connect_policy -->
<g id="edge100" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_policy.iot_thing_connect_policy</title>
<path fill="none" stroke="black" d="M2155.25,-580.98C2176.18,-579.14 2197.74,-577.39 2218.07,-576 2573.37,-551.69 2666.21,-570.46 3025.06,-540.04"/>
<polygon fill="black" stroke="black" points="3025.55,-543.51 3035.21,-539.17 3024.95,-536.54 3025.55,-543.51"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_policy.iot_thing_pub_policy -->
<g id="edge101" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_policy.iot_thing_pub_policy</title>
<path fill="none" stroke="black" d="M2156.75,-581.17C2177.22,-579.34 2198.24,-577.55 2218.07,-576 2465.62,-556.68 2531.02,-565.15 2782.58,-540"/>
<polygon fill="black" stroke="black" points="2783.16,-543.46 2792.76,-538.97 2782.46,-536.49 2783.16,-543.46"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_topic_rule.kinesis_push_rule -->
<g id="edge102" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_iot_topic_rule.kinesis_push_rule</title>
<path fill="none" stroke="black" d="M1933.43,-579.25C1857.76,-568.91 1751.22,-554.32 1647.97,-540.12"/>
<polygon fill="black" stroke="black" points="1648.37,-536.65 1637.99,-538.75 1647.42,-543.58 1648.37,-536.65"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_route.internet_access -->
<g id="edge103" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_route.internet_access</title>
<path fill="none" stroke="black" d="M2100.72,-577.29C2144.63,-566.94 2202.42,-553.32 2249.13,-542.31"/>
<polygon fill="black" stroke="black" points="2249.99,-545.7 2258.92,-540 2248.39,-538.89 2249.99,-545.7"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_route_table_association.private -->
<g id="edge104" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_route_table_association.private</title>
<path fill="none" stroke="black" d="M2046.43,-575.7C2052.3,-567.47 2059.44,-557.48 2065.91,-548.42"/>
<polygon fill="black" stroke="black" points="2068.89,-550.28 2071.85,-540.1 2063.19,-546.21 2068.89,-550.28"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_security_group_rule.outbound_internet_access -->
<g id="edge105" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] aws_security_group_rule.outbound_internet_access</title>
<path fill="none" stroke="black" d="M2143.45,-579.96C2234.93,-569.05 2366.46,-553.36 2468.33,-541.21"/>
<polygon fill="black" stroke="black" points="2468.89,-544.67 2478.41,-540.01 2468.06,-537.72 2468.89,-544.67"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] output.dashboard -->
<g id="edge106" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] output.dashboard</title>
<path fill="none" stroke="black" d="M1872.45,-587.15C1746.6,-580.78 1567.56,-567.78 1402.98,-540.17"/>
<polygon fill="black" stroke="black" points="1403.11,-536.64 1392.66,-538.42 1401.93,-543.54 1403.11,-536.64"/>
</g>
<!-- [root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] output.ecr_registry -->
<g id="edge107" class="edge">
<title>[root] meta.count&#45;boundary (EachMode fixup)&#45;&gt;[root] output.ecr_registry</title>
<path fill="none" stroke="black" d="M1862.39,-590.57C1458.57,-584.43 471.34,-566.86 323.07,-540 245.86,-526.01 160.52,-493.64 108.85,-472.04"/>
<polygon fill="black" stroke="black" points="110.18,-468.81 99.61,-468.14 107.46,-475.26 110.18,-468.81"/>
</g>
<!-- [root] provider.aws (close) -->
<g id="node69" class="node">
<title>[root] provider.aws (close)</title>
<ellipse fill="none" stroke="black" cx="2331.07" cy="-594" rx="104.33" ry="18"/>
<text text-anchor="middle" x="2331.07" y="-589.8" font-family="Times,serif" font-size="14.00">[root] provider.aws (close)</text>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_ecr_lifecycle_policy.foopolicy -->
<g id="edge110" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_ecr_lifecycle_policy.foopolicy</title>
<path fill="none" stroke="black" d="M2259.8,-580.87C2245.99,-578.92 2231.61,-577.16 2218.07,-576 1485.25,-513.2 1294.05,-600.89 557.82,-540.08"/>
<polygon fill="black" stroke="black" points="558.02,-536.59 547.76,-539.25 557.44,-543.56 558.02,-536.59"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_ecs_service.main -->
<g id="edge111" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_ecs_service.main</title>
<path fill="none" stroke="black" d="M2259.18,-580.96C2245.56,-579.03 2231.4,-577.25 2218.07,-576 1802,-536.92 1690.77,-591.11 1271.59,-539.91"/>
<polygon fill="black" stroke="black" points="1271.98,-536.43 1261.63,-538.68 1271.12,-543.38 1271.98,-536.43"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs -->
<g id="edge112" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_cloudwatch_to_execution_ecs</title>
<path fill="none" stroke="black" d="M2370.26,-577.26C2387.82,-568.53 2407.57,-556.13 2421.07,-540 2435.97,-522.19 2444.46,-497.03 2449.09,-477.99"/>
<polygon fill="black" stroke="black" points="2452.53,-478.66 2451.28,-468.14 2445.69,-477.14 2452.53,-478.66"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_ecr_to_execution_ecs -->
<g id="edge113" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_ecr_to_execution_ecs</title>
<path fill="none" stroke="black" d="M2256.03,-581.48C2243.37,-579.6 2230.35,-577.71 2218.07,-576 2130.74,-563.81 2032.84,-551.18 1954.4,-541.3"/>
<polygon fill="black" stroke="black" points="1954.8,-537.83 1944.44,-540.05 1953.92,-544.77 1954.8,-537.83"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_ecs -->
<g id="edge114" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_ecs</title>
<path fill="none" stroke="black" d="M2259.49,-580.87C2245.78,-578.93 2231.51,-577.18 2218.07,-576 1609.28,-522.48 1450.54,-584.41 836.8,-540"/>
<polygon fill="black" stroke="black" points="837.04,-536.51 826.81,-539.27 836.53,-543.49 837.04,-536.51"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_iot -->
<g id="edge115" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy.attach_kinesis_to_iot</title>
<path fill="none" stroke="black" d="M2259.18,-580.9C2245.56,-578.97 2231.4,-577.22 2218.07,-576 1731.63,-531.65 1604.14,-577.47 1113.5,-540.06"/>
<polygon fill="black" stroke="black" points="1113.55,-536.56 1103.32,-539.28 1113.02,-543.54 1113.55,-536.56"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role -->
<g id="edge116" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_cloudwatch_role</title>
<path fill="none" stroke="black" d="M2430.75,-588.7C2603.51,-580.99 2969.96,-563.47 3289.93,-540.14"/>
<polygon fill="black" stroke="black" points="3290.61,-543.6 3300.33,-539.38 3290.1,-536.62 3290.61,-543.6"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_role -->
<g id="edge117" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iam_role_policy_attachment.ecs_ec2_role</title>
<path fill="none" stroke="black" d="M2434.42,-591.48C2656.9,-587.66 3197.89,-575.31 3661.08,-540.12"/>
<polygon fill="black" stroke="black" points="3661.61,-543.59 3671.32,-539.34 3661.08,-536.61 3661.61,-543.59"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iot_policy.iot_thing_connect_policy -->
<g id="edge118" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iot_policy.iot_thing_connect_policy</title>
<path fill="none" stroke="black" d="M2427.61,-587.2C2559.93,-578.9 2805.27,-562.26 3025.08,-540.07"/>
<polygon fill="black" stroke="black" points="3025.6,-543.54 3035.2,-539.04 3024.9,-536.57 3025.6,-543.54"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iot_policy.iot_thing_pub_policy -->
<g id="edge119" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iot_policy.iot_thing_pub_policy</title>
<path fill="none" stroke="black" d="M2416.11,-583.59C2504.79,-573.64 2648.12,-557.21 2782.65,-540.04"/>
<polygon fill="black" stroke="black" points="2783.26,-543.49 2792.73,-538.75 2782.37,-536.54 2783.26,-543.49"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_iot_topic_rule.kinesis_push_rule -->
<g id="edge120" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_iot_topic_rule.kinesis_push_rule</title>
<path fill="none" stroke="black" d="M2258.24,-581.1C2244.9,-579.19 2231.09,-577.39 2218.07,-576 1968.55,-549.42 1901.83,-565 1648.53,-540.1"/>
<polygon fill="black" stroke="black" points="1648.58,-536.59 1638.28,-539.08 1647.89,-543.55 1648.58,-536.59"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_route.internet_access -->
<g id="edge121" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_route.internet_access</title>
<path fill="none" stroke="black" d="M2331.07,-575.7C2331.07,-567.98 2331.07,-558.71 2331.07,-550.11"/>
<polygon fill="black" stroke="black" points="2334.57,-550.1 2331.07,-540.1 2327.57,-550.1 2334.57,-550.1"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_route_table_association.private -->
<g id="edge122" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_route_table_association.private</title>
<path fill="none" stroke="black" d="M2279.29,-578.33C2242.96,-568.03 2193.95,-554.14 2154.13,-542.86"/>
<polygon fill="black" stroke="black" points="2155.06,-539.48 2144.48,-540.12 2153.15,-546.22 2155.06,-539.48"/>
</g>
<!-- [root] provider.aws (close)&#45;&gt;[root] aws_security_group_rule.outbound_internet_access -->
<g id="edge123" class="edge">
<title>[root] provider.aws (close)&#45;&gt;[root] aws_security_group_rule.outbound_internet_access</title>
<path fill="none" stroke="black" d="M2389.06,-579C2432.59,-568.5 2492.72,-553.98 2540.86,-542.36"/>
<polygon fill="black" stroke="black" points="2541.73,-545.75 2550.63,-540 2540.09,-538.95 2541.73,-545.75"/>
</g>
<!-- [root] provider.template (close) -->
<g id="node70" class="node">
<title>[root] provider.template (close)</title>
<ellipse fill="none" stroke="black" cx="3277.07" cy="-594" rx="120.72" ry="18"/>
<text text-anchor="middle" x="3277.07" y="-589.8" font-family="Times,serif" font-size="14.00">[root] provider.template (close)</text>
</g>
<!-- [root] provider.template (close)&#45;&gt;[root] data.template_file.user_data -->
<g id="edge124" class="edge">
<title>[root] provider.template (close)&#45;&gt;[root] data.template_file.user_data</title>
<path fill="none" stroke="black" d="M3396.71,-591.41C3581.77,-587.81 3920.58,-576.3 3962.07,-540 3992.51,-513.37 3981.07,-491.45 3981.07,-451 3981.07,-451 3981.07,-451 3981.07,-305 3981.07,-241.66 3799.29,-198.97 3682.05,-178.02"/>
<polygon fill="black" stroke="black" points="3682.43,-174.53 3671.97,-176.24 3681.21,-181.42 3682.43,-174.53"/>
</g>
<!-- [root] root -->
<g id="node71" class="node">
<title>[root] root</title>
<ellipse fill="none" stroke="black" cx="2331.07" cy="-666" rx="46.9" ry="18"/>
<text text-anchor="middle" x="2331.07" y="-661.8" font-family="Times,serif" font-size="14.00">[root] root</text>
</g>
<!-- [root] root&#45;&gt;[root] meta.count&#45;boundary (EachMode fixup) -->
<g id="edge125" class="edge">
<title>[root] root&#45;&gt;[root] meta.count&#45;boundary (EachMode fixup)</title>
<path fill="none" stroke="black" d="M2292.24,-655.85C2246.31,-645.02 2168.76,-626.75 2110.61,-613.04"/>
<polygon fill="black" stroke="black" points="2111.26,-609.6 2100.73,-610.71 2109.66,-616.41 2111.26,-609.6"/>
</g>
<!-- [root] root&#45;&gt;[root] provider.aws (close) -->
<g id="edge126" class="edge">
<title>[root] root&#45;&gt;[root] provider.aws (close)</title>
<path fill="none" stroke="black" d="M2331.07,-647.7C2331.07,-639.98 2331.07,-630.71 2331.07,-622.11"/>
<polygon fill="black" stroke="black" points="2334.57,-622.1 2331.07,-612.1 2327.57,-622.1 2334.57,-622.1"/>
</g>
<!-- [root] root&#45;&gt;[root] provider.template (close) -->
<g id="edge127" class="edge">
<title>[root] root&#45;&gt;[root] provider.template (close)</title>
<path fill="none" stroke="black" d="M2376.69,-661.62C2518.04,-651.16 2951.7,-619.08 3161.28,-603.57"/>
<polygon fill="black" stroke="black" points="3161.68,-607.05 3171.4,-602.82 3161.17,-600.07 3161.68,-607.05"/>
</g>
</g>
</svg>
